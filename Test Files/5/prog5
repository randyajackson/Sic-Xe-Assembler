.Program reads a sequence of characters from DEVF2 and writes the same to DEV04
FILE_IO		START 100
		JSUB READ_SUBR
		JSUB WRITE_SUBR
		J EXEC_OVER

READ_SUBR	LDX ZERO	.START OF SUBROUTINE READ_SUBR
READ_LOOP	TD INPUT_DEV
		JEQ READ_LOOP
		RD INPUT_DEV
		STCH INPUT_DATA,X
		TIX INPUT_LEN
		JLT READ_LOOP
		RSUB		.END OF SUBROUTINE READ_SUBR

WRITE_SUBR	LDX ZERO
WRITE_LOOP	TD OUTPUT_DEV
		JEQ WRITE_LOOP
		LDCH INPUT_DATA,X
		WD OUTPUT_DEV
		TIX INPUT_LEN
		JLT WRITE_LOOP

READY_CHECK	TD OUTPUT_DEV
		JEQ READY_CHECK
		LDCH NEWLINE
		WD OUTPUT_DEV
		
		RSUB

EXEC_OVER 	BYTE	X'FF'

INPUT_DEV	BYTE	X'F2'
OUTPUT_DEV	BYTE	X'04'
NEWLINE		BYTE	X'0A'
INPUT_DATA	RESB	9
ZERO		WORD	0
INPUT_LEN	WORD	9

		END	FILE_IO
